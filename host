--test test test
--cloud system's host made by oedze
--check version with karelmikie3 his updater idea
version = "1.5.0"
response = http.get("https://raw.github.com/oedze/cloud/master/version")
newVersion = response.readAll()
if newVersion ~= version then
 shell.run("cloudDir/updater")
end
 
 
os.loadAPI("cloud_host")
rednet.open("top")


cloud_host.log("running host")
while true do
 print("clock")
 requestID, msg = rednet.receive()
 print(requestID.." "..msg)
 cloud_host.log("requestID = "..requestID)
 if msg == "cloudLogin" then
  cloud_host.log("msg == cloudlogin")
  status = cloud_host.userLogin(requestID)
  cloud_host.log("person logged in")
  print(status)
  cloud_host.log("printed status")
 elseif msg == "cloudUpload" then
  status = cloud_host.userUpload(requestID)
  cloud_host.log("status: "..status)
  rednet.send(requestID, status)
 elseif msg == "cloudDownload" then
  status = userDownload(requestID)
  cloud_host.log("status: "..status)
 end 
end
